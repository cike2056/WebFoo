<DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>runoob</title>
    </head>
    <body >
        <button id="btn" onclick="myFunction()">click</button>
        <p id="demo">0</p>
        <script>
    
           function myFunction(){
              alert(charsInBody())
           }

           var charsInBody = (function counter(elm) {
                if (elm.nodeType == 3) { // 文本节点
                    return elm.nodeValue.length;
                }
                var count = 0;
                for (var i = 0, child; child = elm.childNodes[i]; i++) {
                    count += counter(child);
                }
                return count;
            })(document.body);

        </script>
    
    </body>
</html>